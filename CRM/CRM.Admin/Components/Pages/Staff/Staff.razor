@page "/staff"
@using CRM.Admin.Data.UserDto
<MudItem xs="8">
    <MudButton
        OnClick="CreateUser"
        Variant="Variant.Filled"
        StartIcon="@Icons.Material.Filled.Add"
        Class="buttonBase"
        Style="border-radius: 30px;">
        СТВОРИТИ КОРИСТУВАЧА
    </MudButton>
    <MudDataGrid ServerData="@(new Func<GridState<UserDto>, Task<GridData<UserDto>>>(SetTableDataUserAsync))" Elevation="3"
                 T="UserDto" ColumnResizeMode="ResizeMode.Column" RowsPerPage="5" @ref="_tableUser">
        <Columns>
            <PropertyColumn Property="x => x.Name" Title="Ім'я"/>
            <PropertyColumn Property="x => x.Surname" Title="Прізвище"/>
            <PropertyColumn Property="x => x.Email" Title="Електронна пошта"/>
            <TemplateColumn CellClass="d-flex justify-end">
                <CellTemplate>
                    <MudIconButton Size="@Size.Small" Icon="@Icons.Material.Filled.Edit" OnClick="() => UpdateUser(context.Item.Id)"/>
                    <MudIconButton Size="@Size.Small" Icon="@Icons.Material.Filled.Delete" OnClick="() => DeleteUser(context.Item.Id)"/>
                </CellTemplate>
            </TemplateColumn>
        </Columns>
        <PagerContent>
            <MudDataGridPager T="UserDto" PageSizeOptions=@(new int[] { 5, 10, 20 })/>
        </PagerContent>
    </MudDataGrid>
</MudItem>